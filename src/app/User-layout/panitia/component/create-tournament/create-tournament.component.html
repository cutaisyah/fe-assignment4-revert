<div class="container-custom">
  <h3 class="title mt-0 pt-3 text-center mb-0">Membuat Perlombaan</h3>
  <form
    class="form-padding"
    [formGroup]="createTournamentForm"
    (ngSubmit)="createTournament()"
  >
    <div class="form-group row">
      <label class="col-md-4 col-sm-2 col-form-label">Nama Perlombaan :</label>
      <div class="col-md-8 col-sm-10" [ngClass]="{ 'input-group-focus': focus === true }">
        <input
          formControlName="tournament_name"
          type="text"
          class="form-control mb-3"
          placeholder="Perlombaan"
          (focus)="focus = true"
          (blur)="focus = false"
        />
      </div>
    </div>

    <div class="form-group row">
      <label class="col-md-4 col-sm-2 col-form-label">Permalink :</label>
      <div class="col-md-8 col-sm-10" [ngClass]="{ 'input-group-focus': focus === true }">
        <input
          formControlName="permalink"
          type="text"
          class="form-control mb-3"
          placeholder="Permalink"
          (focus)="focus = true"
          (blur)="focus = false"
        />
      </div>
    </div>

  <div class="form-group row">
    <label class="col-md-4 col-sm-2 col-form-label">Game :</label>
    <ng-select class="col-md-8 col-sm-10" formControlName="game">
      <ng-option *ngFor="let game of gameData" [value]="game.game_name">{{game.game_name}}</ng-option>
    </ng-select>
  </div>

  <div class="form-group row">
    <label class="col-md-4 col-sm-2 col-form-label">Kategori :</label>
    <ng-select class="col-md-8 col-sm-10" formControlName="categories">
      <ng-option *ngFor="let kategori of kategori" [value]="kategori.kategori_name">{{kategori.kategori_name}}</ng-option>
    </ng-select>
  </div>

    <div class="form-group row">
      <label class="col-md-4 col-sm-2 col-form-label">Maksimum Jumlah Pendaftar :</label>
      <div class="col-md-8 col-sm-10" [ngClass]="{ 'input-group-focus': focus === true }">
        <input
          formControlName="max_total_participant"
          type="text"
          class="form-control mb-3"
          placeholder="Maksimum Jumlah Pendaftar"
          (focus)="focus1 = true"
          (blur)="focus1 = false"
        />
      </div>
    </div>

    <div class="form-group row">
      <label class="col-md-4 col-sm-2 col-form-label">Umur minimal :</label>
      <div class="col-md-8 col-sm-10" [ngClass]="{ 'input-group-focus': focus === true }">
        <input
          formControlName="age_minimum"
          type="text"
          class="form-control mb-3"
          placeholder="Umur Minimal"
          (focus)="focus = true"
          (blur)="focus = false"
        />
      </div>
    </div>

    <div class="form-group row">
      <label class="col-md-4 col-sm-2 col-form-label">RULES :</label>
      <div class="col-md-8 col-sm-10" [ngClass]="{ 'input-group-focus': focus === true }">
        <angular-editor
          formControlName="description"
          type="text"
          class="mb-3"
          placeholder="RULES"
          (focus)="focus = true"
          (blur)="focus = false"
          [config]="editorConfig"
        ></angular-editor>
      </div>
    </div>

    <div class="form-group row">
      <label class="col-md-4 col-sm-2 col-form-label">Unggah gambar :</label>
      <div class="col-md-8 col-sm-10">
        <button type="button" (click)="filePicker.click()">Pilih Gambar</button>
        <input type="file" #filePicker (change)="onImagePicked($event)" />
        <div
          class="image-preview"
          *ngIf="
            imagePreview !== '' &&
            imagePreview &&
            createTournamentForm.get('image').valid
          "
        >
          <img [src]="imagePreview" [alt]="createTournamentForm.value.title" />
        </div>
      </div>
    </div>

    <div class="form-group row">
      <label class="col-md-4 col-sm-2 col-form-label">Hadiah Juara Pertama :</label>
      <div class="col-md-8 col-sm-10" [ngClass]="{ 'input-group-focus': focus === true }">
        <input
          formControlName="first_prize"
          type="text"
          class="form-control mb-3"
          placeholder="Hadiah Juara Pertama"
          (focus)="focus = true"
          (blur)="focus = false"
        />
      </div>
    </div>
    <div class="form-group row">
      <label class="col-md-4 col-sm-2 col-form-label">Hadiah Juara Kedua :</label>
      <div class="col-md-8 col-sm-10" [ngClass]="{ 'input-group-focus': focus === true }">
        <input
          formControlName="second_prize"
          type="text"
          class="form-control mb-3"
          placeholder="Hadiah Juara Kedua"
          (focus)="focus = true"
          (blur)="focus = false"
        />
      </div>
    </div>
    <div class="form-group row">
      <label class="col-md-4 col-sm-2 col-form-label">Hadiah Juara Ketiga :</label>
      <div class="col-md-8 col-sm-10" [ngClass]="{ 'input-group-focus': focus === true }">
        <input
          formControlName="third_prize"
          type="text"
          class="form-control mb-3"
          placeholder="Hadiah Juara Ketiga"
          (focus)="focus = true"
          (blur)="focus = false"
        />
      </div>
    </div>

    <div class="d-flex justify-content-center">
      <button
        type="submit"
        class="btn btn-danger margin-custom btn-block btn-round mt-3 btn-custom justify-content-center"
      >
        Buat Perlombaan Baru
      </button>
    </div>
  </form>
</div>
